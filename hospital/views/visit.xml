<odoo>
    <data>

        <!--record view-->
        <record id="visit_tree_view" model="ir.ui.view">
            <field name = "name">hospital.visit.tree</field>
            <field name = "model">hospital.visit</field>
            <field name = "arch" type="xml">
                <tree>
                    <field name="number"/>
                    <field name="visit_date"/>
                    <field name="patient"/>
                    <field name="doctor"/>
                    <field name="price"/>
                    <field name="state"/>
                </tree>
            </field>
        </record>
        <record id="visit_form_view" model="ir.ui.view">
            <field name = "name">hospital.visit.form</field>
            <field name = "model">hospital.visit</field>
            <field name = "arch" type="xml">
                <form>
                    <header>
                        <button name="change_state_to_good" string="good" type="object" invisible="state != 'draft'"/>
                        <button name="ill" string="Ill" type="object" invisible="state != 'draft'"/>
                        <button name="cancel" string="Cancel" type="object" invisible="state not in ['good','ill']"/>
                        <button name="draft" string="Reset to draft" type="object" invisible="state != 'cancel'"/>
                        <button name="%(hospital.action_drug)d" string="Drugs" type="action"/>
                        <field name="state" widget="statusbar"/>
                    </header>
                    <sheet>
                        <group>
                            <field name="number"/>
                            <field name="visit_date"/>
                            <field name="patient"/>
                            <field name="doctor"/>
                            <field name="price"/>
                            <field name="description"/>
                            <field name="drugs"/>
                        </group>
                    </sheet>
                </form>
            </field>
        </record>
        <record id="visit_search_view" model="ir.ui.view">
            <field name = "name">hospital.visit.search</field>
            <field name = "model">hospital.visit</field>
            <field name = "arch" type="xml">
                <search>
                    <field name="number"/>
                    <field name="patient"/>
                    <field name="doctor"/>
                    <separator/>
                    <filter name="ill" string="Ill Patients" domain="[('state','=','Ill')]"/>
                    <group expand="1" string="Group By"/>
                    <filter string="Visit Date" name="visit_date" context="{'group by':'visit_date'}"/>
                </search>

            </field>
        </record>
    </data>
</odoo>